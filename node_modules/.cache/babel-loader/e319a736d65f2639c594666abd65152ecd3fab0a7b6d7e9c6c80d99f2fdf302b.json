{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/GitHub/game-of-life-react/src/components/GameOfLife.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Cell from \"./Cell.tsx\";\n\n// Define the type for the grid\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initGrid = (numRows, numCols, density) => {\n  const rows = Array(numRows).fill(0).map(() => Array(numCols).fill(0).map(() => Math.random() < density));\n  return rows;\n};\nconst GameOfLife = props => {\n  _s();\n  const [grid, setGrid] = useState(() => initGrid(props.numRows, props.numCols, props.density));\n  const [running, setRunning] = useState(false);\n  const runSimulation = () => {\n    setGrid(g => {\n      return g.map((row, i) => row.map((cell, j) => {\n        const neighbors = [[i - 1, j - 1], [i - 1, j], [i - 1, j + 1], [i, j - 1], [i, j + 1], [i + 1, j - 1], [i + 1, j], [i + 1, j + 1]];\n        let liveNeighbors = 0;\n        neighbors.forEach(([x, y]) => {\n          if (x >= 0 && x < props.numRows && y >= 0 && y < props.numCols && g[x][y]) {\n            liveNeighbors += 1;\n          }\n        });\n        if (cell && (liveNeighbors < 2 || liveNeighbors > 3)) {\n          return false;\n        }\n        if (!cell && liveNeighbors === 3) {\n          return true;\n        }\n        return cell;\n      }));\n    });\n  };\n  useEffect(() => {\n    setInterval(runSimulation, props.interval);\n  }, []);\n  const toggleCellState = (row, col) => {\n    const newGrid = grid.map((r, i) => r.map((cell, j) => i === row && j === col ? !cell : cell));\n    setGrid(newGrid);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setGrid(initGrid(props.numRows, props.numCols, props.density)),\n      disabled: running,\n      children: \"Clear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: `repeat(${props.numCols}, 20px)`\n      },\n      children: grid.map((row, i) => row.map((cell, j) => /*#__PURE__*/_jsxDEV(Cell, {\n        isAlive: cell,\n        toggleCell: () => toggleCellState(i, j)\n      }, `${i}-${j}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(GameOfLife, \"DbH47/506K3BwgxmxULzGQgxejA=\");\n_c = GameOfLife;\nGameOfLife.defaultProps = {\n  numRows: 30,\n  numCols: 50,\n  density: 0.2,\n  interval: 1000\n};\nexport default GameOfLife;\nvar _c;\n$RefreshReg$(_c, \"GameOfLife\");","map":{"version":3,"names":["React","useState","useEffect","Cell","jsxDEV","_jsxDEV","initGrid","numRows","numCols","density","rows","Array","fill","map","Math","random","GameOfLife","props","_s","grid","setGrid","running","setRunning","runSimulation","g","row","i","cell","j","neighbors","liveNeighbors","forEach","x","y","setInterval","interval","toggleCellState","col","newGrid","r","children","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gridTemplateColumns","isAlive","toggleCell","_c","defaultProps","$RefreshReg$"],"sources":["/Users/apple/Documents/GitHub/game-of-life-react/src/components/GameOfLife.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Cell from \"./Cell.tsx\";\n\n// Define the type for the grid\ntype Grid = boolean[][];\ntype GameOfLifeProps = {\n    numRows: number, \n    numCols: number, \n    density: number,\n    interval: number\n}\n\nconst initGrid = (numRows, numCols, density): Grid => {\n  const rows = Array(numRows).fill(0).map(() => Array(numCols).fill(0).map(() => Math.random() < density));\n  return rows;\n};\n\nconst GameOfLife = (props: GameOfLifeProps) => {\n  const [grid, setGrid] = useState<Grid>(() => initGrid(props.numRows, props.numCols, props.density));\n  const [running, setRunning] = useState<boolean>(false);\n\n  const runSimulation = () => {\n    setGrid((g) => {\n      return g.map((row, i) =>\n        row.map((cell, j) => {\n          const neighbors = [\n            [i - 1, j - 1],\n            [i - 1, j],\n            [i - 1, j + 1],\n            [i, j - 1],\n            [i, j + 1],\n            [i + 1, j - 1],\n            [i + 1, j],\n            [i + 1, j + 1],\n          ];\n\n          let liveNeighbors = 0;\n          neighbors.forEach(([x, y]) => {\n            if (x >= 0 && x < props.numRows && y >= 0 && y < props.numCols && g[x][y]) {\n              liveNeighbors += 1;\n            }\n          });\n\n          if (cell && (liveNeighbors < 2 || liveNeighbors > 3)) {\n            return false;\n          }\n          if (!cell && liveNeighbors === 3) {\n            return true;\n          }\n          return cell;\n        })\n      );\n    });\n  };\n\n  useEffect(() => {\n    setInterval(runSimulation, props.interval)\n  }, [])\n\n  const toggleCellState = (row: number, col: number) => {\n    const newGrid = grid.map((r, i) =>\n      r.map((cell, j) => (i === row && j === col ? !cell : cell))\n    );\n    setGrid(newGrid);\n  };\n\n  return (\n    <div>\n      <button\n        onClick={() => setGrid(initGrid( props.numRows, props.numCols, props.density))}\n        disabled={running}\n      >\n        Clear\n      </button>\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${props.numCols}, 20px)`,\n        }}\n      >\n        {grid.map((row, i) =>\n          row.map((cell, j) => (\n            <Cell\n              key={`${i}-${j}`}\n              isAlive={cell}\n              toggleCell={() => toggleCellState(i, j)}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nGameOfLife.defaultProps = {\n    numRows: 30,\n    numCols: 50,\n    density: 0.2,\n    interval: 1000\n}\nexport default GameOfLife;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}